[{"C:\\xampp\\htdocs\\amazon-clone\\src\\index.js":"1","C:\\xampp\\htdocs\\amazon-clone\\src\\App.js":"2","C:\\xampp\\htdocs\\amazon-clone\\src\\reportWebVitals.js":"3","C:\\xampp\\htdocs\\amazon-clone\\src\\Header.js":"4","C:\\xampp\\htdocs\\amazon-clone\\src\\Home.js":"5","C:\\xampp\\htdocs\\amazon-clone\\src\\Product.js":"6","C:\\xampp\\htdocs\\amazon-clone\\src\\Checkout.js":"7","C:\\xampp\\htdocs\\amazon-clone\\src\\Subtotal.js":"8","C:\\xampp\\htdocs\\amazon-clone\\src\\reducer.js":"9","C:\\xampp\\htdocs\\amazon-clone\\src\\StateProvider.js":"10","C:\\xampp\\htdocs\\amazon-clone\\src\\CheckoutProduct.js":"11","C:\\xampp\\htdocs\\amazon-clone\\src\\Login.js":"12","C:\\xampp\\htdocs\\amazon-clone\\src\\firebase.js":"13","C:\\xampp\\htdocs\\amazon-clone\\src\\Payment.js":"14","C:\\xampp\\htdocs\\amazon-clone\\src\\axios.js":"15"},{"size":738,"mtime":1612287577463,"results":"16","hashOfConfig":"17"},{"size":1770,"mtime":1613228388027,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"17"},{"size":2022,"mtime":1612737263374,"results":"20","hashOfConfig":"17"},{"size":2805,"mtime":1612296410911,"results":"21","hashOfConfig":"17"},{"size":1262,"mtime":1612395813961,"results":"22","hashOfConfig":"17"},{"size":1209,"mtime":1612777819801,"results":"23","hashOfConfig":"17"},{"size":1068,"mtime":1612737777459,"results":"24","hashOfConfig":"17"},{"size":1211,"mtime":1612969340014,"results":"25","hashOfConfig":"17"},{"size":485,"mtime":1612286578844,"results":"26","hashOfConfig":"17"},{"size":1025,"mtime":1612388384807,"results":"27","hashOfConfig":"17"},{"size":2038,"mtime":1612477736442,"results":"28","hashOfConfig":"17"},{"size":704,"mtime":1613227693824,"results":"29","hashOfConfig":"17"},{"size":4682,"mtime":1613220276400,"results":"30","hashOfConfig":"17"},{"size":421,"mtime":1613201420141,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"2qfrpa",{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"34"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\xampp\\htdocs\\amazon-clone\\src\\index.js",[],["69","70"],"C:\\xampp\\htdocs\\amazon-clone\\src\\App.js",["71"],"import React from \"react\";\nimport { useEffect } from \"react\";\nimport './App.css';\nimport Header from './Header';\nimport Home from './Home';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport Payment from './Payment';\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\n\nconst promise = loadStripe (\"pk_test_51IINF0LCegZ3sUt0d2IcDznOqm4AZ1eSxblvkk37B1i28Ot2YLQxFlUIDZKvhgH1L27hWZJdZAtJgxsUOiAEMPnG00oDnDmTeR\"\n  );\n\nfunction App() {\n  const [{ basket }, dispatch] = useStateValue();\n\n  //keep track of who's signed in\n  useEffect (() => {\n    //will only run once when the app component loads...\n    auth.onAuthStateChanged( authUser => {\n      console.log('THE USER IS >>>', authUser);\n\n      if (authUser) {\n        //the user just logged in/ the user was logged in\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        //the user is logged out\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n  }, [basket])\n\n\n  return (\n    //BEM\n  <Router>\n  <div className=\"app\">\n    <Switch>\n      <Route path=\"/login\">\n          <Login />\n      </Route>\n       <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n       </Route>\n       <Route path=\"/payment\">\n         <Header />\n         <Elements stripe={promise}>\n         <Payment />\n         </Elements>\n       </Route>\n       <Route path=\"/\">\n            <Header />\n            <Home />\n       </Route>\n       \n    </Switch>\n      \n  </div>\n  </Router>\n  );\n}\n\nexport default App;\n","C:\\xampp\\htdocs\\amazon-clone\\src\\reportWebVitals.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\Header.js",["72"],"import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n    const [{basket, user } , dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if (user) {\r\n            auth.signOut();\r\n        }\r\n    }\r\n    return (\r\n        <div className =\"header\">\r\n    <Link to='/'>\r\n    <img className=\"header__logo\" src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" alt=\"\"/>\r\n    </Link>\r\n    \r\n        <div className=\"header__search\">\r\n            <input className=\"header__searchInput\" type=\"text\" />\r\n            <SearchIcon className=\"header__searchIcon\" />\r\n            {/*logo*/}\r\n        </div>\r\n\r\n       <div className=\"header__nav\">\r\n           <Link to={!user && '/login'}>\r\n           <div onClick={handleAuthentication} \r\n           className=\"header__option\">\r\n             <span className=\"header__optionLineOne\">Hello, {!user ? 'Guest' : user.email}</span>\r\n             <span className=\"header__optionLineTwo\">{user ? 'Sign Out' : 'Sign In'}</span>\r\n           </div>\r\n           </Link>\r\n\r\n        <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Returns</span>\r\n            <span className=\"header__optionLineTwo\">&Orders</span>\r\n               </div>\r\n\r\n        <div className=\"header__option\">\r\n               <span className=\"header__optionLineOne\">Your</span>\r\n               <span className=\"header__optionLineTwo\">Prime</span>\r\n               </div>\r\n        <Link to='/checkout'>\r\n        <div className=\"header__optionBasket\">\r\n            < ShoppingBasketIcon />\r\n            <span className=\"header__optionLineTwo header__basketCount\">{basket?.length}</span>\r\n        </div>\r\n        </Link>\r\n        \r\n\r\n       </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","C:\\xampp\\htdocs\\amazon-clone\\src\\Home.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\Product.js",["73"],"import React from 'react'\r\nimport \"./Product.css\";\r\nimport { useStateValue} from \"./StateProvider\";\r\n\r\nfunction Product({ id, title, image, price, rating}) {\r\n   \r\n const [ { basket }, dispatch] = useStateValue();\r\n    \r\n //console.log('this is the basket >>>', basket)\r\n    const addToBasket = () => {\r\n        //dispatch the item into the data layer\r\n       dispatch({\r\n           type: \"ADD_TO_BASKET\",\r\n           item: {\r\n             id: id,\r\n             title: title,\r\n             image: image,\r\n             price: price,\r\n             rating: rating,\r\n           }\r\n\r\n       });\r\n    };\r\n    \r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                  <p>{title}</p>\r\n               <p className=\"product__price\">\r\n                   <small>$</small>\r\n                  <strong>{price}</strong>\r\n               </p>\r\n            <div className=\"product__rating\">\r\n            {Array(rating).fill().map((_, i)=> (\r\n               <p>ðŸŒŸ </p> \r\n               ))}\r\n            </div>\r\n            </div>\r\n            <img  src={image}\r\n            alt=\"\"/>\r\n            \r\n            \r\n      <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","C:\\xampp\\htdocs\\amazon-clone\\src\\Checkout.js",["74"],"import React from 'react';\r\nimport \"./Checkout.css\";\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport Subtotal from \"./Subtotal\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Checkout() {\r\n const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n          <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\" \r\n          />\r\n        <div>\r\n        <h3>Hello, {user?.email}</h3>\r\n          <h2 className=\"checkout__title\">Your Shopping Basket</h2>\r\n          \r\n          {basket.map(item => (\r\n           <CheckoutProduct \r\n                  id={item.id}\r\n                  title={item.title}\r\n                  image={item.image}\r\n                  price={item.price}\r\n                  rating={item.rating}\r\n           />\r\n          ))}\r\n          \r\n          {/*CheckoutProduct*/}\r\n        </div>\r\n        </div>\r\n    <div className=\"checkout__right\">\r\n        <Subtotal />\r\n        <h2>The subtotal will go here</h2>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","C:\\xampp\\htdocs\\amazon-clone\\src\\Subtotal.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\reducer.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\StateProvider.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\CheckoutProduct.js",["75"],"import React from 'react';\r\nimport './CheckoutProduct.css';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction CheckoutProduct({id, image, title, price, rating }) {\r\n  const [{ basket},  dispatch ] = useStateValue();\r\n\r\n  const removeFromBasket = () => {\r\n    // remove the item from the basket\r\n    dispatch({\r\n      type: 'REMOVE_FROM_BASKET',\r\n      id: id,\r\n    })\r\n  }\r\n  return (\r\n    <div className=\"checkoutproduct\">\r\n      <img className=\"checkoutProduct__image\" src={image} alt=\"\"/>\r\n\r\n    <div className=\"checkoutProduct__info\"> \r\n    \r\n       <p className='checkoutProduct__title'>{title}</p>\r\n        <p className=\"checkoutProduct__price\">\r\n            <small>$</small>\r\n            <strong>{price}</strong>\r\n        </p>\r\n    <div className=\"checkoutProduct__rating\">\r\n        {Array(rating).fill().map((_,i) => (\r\n        <p>ðŸŒŸ</p>\r\n        ))}\r\n    </div>\r\n    <button onClick={ removeFromBasket }>Remove from Basket </button>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","C:\\xampp\\htdocs\\amazon-clone\\src\\Login.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\firebase.js",[],"C:\\xampp\\htdocs\\amazon-clone\\src\\Payment.js",["76","77","78","79"],"import React, { useState, useEffect }from 'react';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport './Payment.css';\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { CardElement, useStripe, useElements, response } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport axios from './axios';\r\n\r\nfunction Payment() {\r\n const [{basket, user}, dispatch] = useStateValue();\r\n const history = useHistory();\r\n const stripe = useStripe();\r\n const elements =useElements();\r\n\r\n const [succeeded, setSucceeded] = useState(false);\r\n const [processing, setProcessing] = useState(\"\");\r\n const [error, setError] = useState(null);\r\n const [disabled, setDisabled] = useState(true);\r\n const [clientSecret, setClientSecret] = useState(true);\r\n\r\n useEffect(() => {\r\n   //generate the special stripe secret which allows us to charge a customer\r\n\r\n   const getClientSecret = async () => {\r\n       const reponse = await axios ({ //axios is kinda a request\r\n       method: 'post',  \r\n       //Stripe expects the total in a currencies subunits \r\n       url: '/payments/create?total=${getBasketTotal(basket)*100}'\r\n       });\r\n       setClientSecret(response.data.clientSecret)\r\n   }\r\n    \r\n     getClientSecret();\r\n\r\n    }, [basket])\r\n\r\n    console.log('THE SECRET IS >>>', clientSecret)\r\n\r\n const handleSubmit = async (event) => {\r\n     //do all the fancy stripe stuff...\r\n     event.preventDefault();\r\n     setProcessing(true);\r\n\r\n     const payload = await stripe.confirmCardPayment(clientSecret, {\r\n       payment_method: {\r\n         card: elements.getElement(CardElement)\r\n       }\r\n     }).then(({ paymentIntent }) => {\r\n     // paymentIntent = payment confirmation\r\n\r\n       setSucceeded(true);\r\n       setError(null)\r\n       setProcessing(false)\r\n\r\n       history.replace('/orders')\r\n     \r\n     })\r\n\r\n     }\r\n const handleChange = event=> {\r\n     //Listen for changes in the CardElement\r\n     // and display any errors as the customer types card details\r\n      setDisabled(event.empty);\r\n      setError(event.error ? event.error.message : \"\");\r\n }\r\n \r\n return (\r\n    <div className=\"payment\">\r\n      <div className='payment__container'> \r\n        <h1>\r\n            Checkout (\r\n                <Link to='/checkout'>{basket?.length} items</Link>\r\n                )\r\n        </h1>\r\n\r\n\r\n       {/*Payment section - delivery address */}\r\n        <div className='payment__section'>\r\n          <div className='payment__title'>\r\n             <h3>Delivery Address </h3>\r\n          </div>\r\n          <div className='payment__address'>\r\n             <p>{user?.email}</p>\r\n             <p>30017, EMBAKASI LANE </p>\r\n             <p>Nairobi, Kenya</p>\r\n          </div>\r\n         </div>\r\n       {/*Payment section -Review items */}\r\n        <div className='payment__section'>\r\n           <div className='payment__title'>\r\n             <h3>Review items and Delivery</h3>\r\n           </div>\r\n           <div className=\"payment__items\">\r\n            {basket.map(item => (\r\n                <CheckoutProduct \r\n                id={item.id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n                rating={item.rating}\r\n                />\r\n            ))}\r\n           </div>\r\n          </div>\r\n       {/*Payment section - Payment method */}\r\n      </div>\r\n      <div className='payment__section'>\r\n        <div className=\"payment__title\">\r\n              <h3>Payment Method</h3>\r\n          </div>\r\n        <div className=\"payment__details\">\r\n            {/*Stripe magic will go here */}\r\n             <form onSubmit={handleSubmit}>\r\n                  <CardElement onChange={handleChange}/>\r\n                  <div className=\"payment__priceContainer\">\r\n                    <CurrencyFormat renderText={(value) => (\r\n                       <h3>Order Total: {value}</h3>\r\n                    )}\r\n                            decimalScale={2}\r\n                            value={getBasketTotal(basket)}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={true}\r\n                            prefix={\"$\"}\r\n                            />\r\n                        <button disabled={processing || disabled || succeeded}>\r\n                            <span> {processing ? <p>Processing </p> : \"Buy Now\"}</span>\r\n                        </button>\r\n                  </div>\r\n                  {/* Errors */}\r\n                  {error && <div>{error}</div>}\r\n             </form>\r\n        </div>\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","C:\\xampp\\htdocs\\amazon-clone\\src\\axios.js",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":42,"column":6,"nodeType":"86","endLine":42,"endColumn":14,"suggestions":"87"},{"ruleId":"88","severity":1,"message":"89","line":10,"column":30,"nodeType":"90","messageId":"91","endLine":10,"endColumn":38},{"ruleId":"88","severity":1,"message":"92","line":7,"column":12,"nodeType":"90","messageId":"91","endLine":7,"endColumn":18},{"ruleId":"88","severity":1,"message":"89","line":8,"column":27,"nodeType":"90","messageId":"91","endLine":8,"endColumn":35},{"ruleId":"88","severity":1,"message":"92","line":6,"column":12,"nodeType":"90","messageId":"91","endLine":6,"endColumn":18},{"ruleId":"88","severity":1,"message":"89","line":12,"column":25,"nodeType":"90","messageId":"91","endLine":12,"endColumn":33},{"ruleId":"88","severity":1,"message":"93","line":27,"column":14,"nodeType":"90","messageId":"91","endLine":27,"endColumn":21},{"ruleId":"94","severity":1,"message":"95","line":30,"column":13,"nodeType":"96","messageId":"97","endLine":30,"endColumn":67},{"ruleId":"88","severity":1,"message":"98","line":46,"column":12,"nodeType":"90","messageId":"91","endLine":46,"endColumn":19},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["101"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'basket' is assigned a value but never used.","'reponse' is assigned a value but never used.","no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","'payload' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},"Update the dependencies array to be: [basket, dispatch]",{"range":"104","text":"105"},[1222,1230],"[basket, dispatch]"]